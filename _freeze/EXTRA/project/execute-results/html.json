{
  "hash": "18b07c9cf6624780a8d023367e4dce39",
  "result": {
    "markdown": "---\ntitle: \"presentation\"\noutput: html_document\ndate: \"2024-04-20\"\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(sf)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.0     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidycensus)\nlibrary(ggthemes)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npath <- '/Users/zoe/Documents/project-02-zdraj/'\n\nnbhd <- st_read(paste0(path,'data/Neighborhood_Boundaries/Neighborhood_Boundaries.shp'))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `Neighborhood_Boundaries' from data source \n  `/Users/zoe/Documents/project-02-zdraj/data/Neighborhood_Boundaries/Neighborhood_Boundaries.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 130 features and 9 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: -13677560 ymin: 5689875 xmax: -13632920 ymax: 5724919\nProjected CRS: WGS 84 / Pseudo-Mercator\n```\n:::\n\n```{.r .cell-code}\ncamp <- st_read(paste0(path,'/data/IRP_Campsite_Reports/IRP_Campsite_Reports.shp')) %>%\n  filter(duplicate == 0) %>%\n  st_intersection(nbhd)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `IRP_Campsite_Reports' from data source \n  `/Users/zoe/Documents/project-02-zdraj/data/IRP_Campsite_Reports/IRP_Campsite_Reports.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 130985 features and 7 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -13689860 ymin: 5667279 xmax: -13563260 ymax: 5765968\nProjected CRS: WGS 84 / Pseudo-Mercator\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n```\n:::\n\n```{.r .cell-code}\npost <- st_read(paste0(path,'/data/IRP_Post_Sites/IRP_Post_Sites.shp')) %>%\n  st_intersection(nbhd)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `IRP_Post_Sites' from data source \n  `/Users/zoe/Documents/project-02-zdraj/data/IRP_Post_Sites/IRP_Post_Sites.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 7479 features and 14 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -13666500 ymin: 0 xmax: 0 ymax: 5722451\nProjected CRS: WGS 84 / Pseudo-Mercator\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n```\n:::\n\n```{.r .cell-code}\nsaveRDS(camp, paste0(path, 'output/camp.rds'))  \n\nsaveRDS(post, paste0(path, 'output/post.rds'))  \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncensus_api_key(\"52620b313938030a5a76504b3ad63ed2355a8ce2\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nTo install your API key for use in future sessions, run this function with `install = TRUE`.\n```\n:::\n\n```{.r .cell-code}\nincome <- get_acs(geography = \"block group\", \n              year = 2021,\n              variables = c(median_income = \"B19013_001\", total_pop = \"B03002_001\"), \n              state = \"OR\",\n              county = \"Multnomah\",\n              output = \"wide\",\n              geometry = TRUE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nGetting data from the 2017-2021 5-year ACS\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\nDownloading: 16 kB     \nDownloading: 16 kB     \nDownloading: 16 kB     \nDownloading: 16 kB     \nDownloading: 16 kB     \nDownloading: 16 kB     \nDownloading: 16 kB     \nDownloading: 16 kB     \nDownloading: 16 kB     \nDownloading: 16 kB     \nDownloading: 16 kB     \nDownloading: 16 kB     \nDownloading: 33 kB     \nDownloading: 33 kB     \nDownloading: 33 kB     \nDownloading: 33 kB     \nDownloading: 33 kB     \nDownloading: 33 kB     \nDownloading: 41 kB     \nDownloading: 41 kB     \nDownloading: 41 kB     \nDownloading: 41 kB     \nDownloading: 41 kB     \nDownloading: 41 kB     \nDownloading: 41 kB     \nDownloading: 41 kB     \nDownloading: 57 kB     \nDownloading: 57 kB     \nDownloading: 57 kB     \nDownloading: 57 kB     \nDownloading: 57 kB     \nDownloading: 57 kB     \nDownloading: 57 kB     \nDownloading: 57 kB     \nDownloading: 57 kB     \nDownloading: 57 kB     \nDownloading: 73 kB     \nDownloading: 73 kB     \nDownloading: 73 kB     \nDownloading: 73 kB     \nDownloading: 90 kB     \nDownloading: 90 kB     \nDownloading: 110 kB     \nDownloading: 110 kB     \nDownloading: 110 kB     \nDownloading: 110 kB     \nDownloading: 120 kB     \nDownloading: 120 kB     \nDownloading: 120 kB     \nDownloading: 120 kB     \nDownloading: 120 kB     \nDownloading: 120 kB     \nDownloading: 150 kB     \nDownloading: 150 kB     \nDownloading: 150 kB     \nDownloading: 150 kB     \nDownloading: 190 kB     \nDownloading: 190 kB     \nDownloading: 190 kB     \nDownloading: 190 kB     \nDownloading: 190 kB     \nDownloading: 190 kB     \nDownloading: 190 kB     \nDownloading: 190 kB     \nDownloading: 190 kB     \nDownloading: 190 kB     \nDownloading: 190 kB     \nDownloading: 190 kB     \nDownloading: 240 kB     \nDownloading: 240 kB     \nDownloading: 240 kB     \nDownloading: 240 kB     \nDownloading: 240 kB     \nDownloading: 240 kB     \nDownloading: 240 kB     \nDownloading: 240 kB     \nDownloading: 290 kB     \nDownloading: 290 kB     \nDownloading: 310 kB     \nDownloading: 310 kB     \nDownloading: 310 kB     \nDownloading: 310 kB     \nDownloading: 340 kB     \nDownloading: 340 kB     \nDownloading: 360 kB     \nDownloading: 360 kB     \nDownloading: 360 kB     \nDownloading: 360 kB     \nDownloading: 360 kB     \nDownloading: 360 kB     \nDownloading: 370 kB     \nDownloading: 370 kB     \nDownloading: 370 kB     \nDownloading: 370 kB     \nDownloading: 390 kB     \nDownloading: 390 kB     \nDownloading: 420 kB     \nDownloading: 420 kB     \nDownloading: 420 kB     \nDownloading: 420 kB     \nDownloading: 440 kB     \nDownloading: 440 kB     \nDownloading: 440 kB     \nDownloading: 440 kB     \nDownloading: 460 kB     \nDownloading: 460 kB     \nDownloading: 500 kB     \nDownloading: 500 kB     \nDownloading: 500 kB     \nDownloading: 500 kB     \nDownloading: 500 kB     \nDownloading: 500 kB     \nDownloading: 510 kB     \nDownloading: 510 kB     \nDownloading: 510 kB     \nDownloading: 510 kB     \nDownloading: 510 kB     \nDownloading: 510 kB     \nDownloading: 560 kB     \nDownloading: 560 kB     \nDownloading: 560 kB     \nDownloading: 560 kB     \nDownloading: 560 kB     \nDownloading: 560 kB     \nDownloading: 560 kB     \nDownloading: 560 kB     \nDownloading: 600 kB     \nDownloading: 600 kB     \nDownloading: 630 kB     \nDownloading: 630 kB     \nDownloading: 630 kB     \nDownloading: 630 kB     \nDownloading: 630 kB     \nDownloading: 630 kB     \nDownloading: 690 kB     \nDownloading: 690 kB     \nDownloading: 690 kB     \nDownloading: 690 kB     \nDownloading: 710 kB     \nDownloading: 710 kB     \nDownloading: 710 kB     \nDownloading: 710 kB     \nDownloading: 710 kB     \nDownloading: 710 kB     \nDownloading: 710 kB     \nDownloading: 710 kB     \nDownloading: 720 kB     \nDownloading: 720 kB     \nDownloading: 720 kB     \nDownloading: 720 kB     \nDownloading: 720 kB     \nDownloading: 720 kB     \nDownloading: 750 kB     \nDownloading: 750 kB     \nDownloading: 750 kB     \nDownloading: 750 kB     \nDownloading: 750 kB     \nDownloading: 750 kB     \nDownloading: 750 kB     \nDownloading: 750 kB     \nDownloading: 820 kB     \nDownloading: 820 kB     \nDownloading: 820 kB     \nDownloading: 820 kB     \nDownloading: 840 kB     \nDownloading: 840 kB     \nDownloading: 840 kB     \nDownloading: 840 kB     \nDownloading: 840 kB     \nDownloading: 840 kB     \nDownloading: 840 kB     \nDownloading: 840 kB     \nDownloading: 850 kB     \nDownloading: 850 kB     \nDownloading: 900 kB     \nDownloading: 900 kB     \nDownloading: 900 kB     \nDownloading: 900 kB     \nDownloading: 910 kB     \nDownloading: 910 kB     \nDownloading: 910 kB     \nDownloading: 910 kB     \nDownloading: 940 kB     \nDownloading: 940 kB     \nDownloading: 960 kB     \nDownloading: 960 kB     \nDownloading: 960 kB     \nDownloading: 960 kB     \nDownloading: 960 kB     \nDownloading: 960 kB     \nDownloading: 960 kB     \nDownloading: 960 kB     \nDownloading: 960 kB     \nDownloading: 960 kB     \nDownloading: 1 MB     \nDownloading: 1 MB     \nDownloading: 1 MB     \nDownloading: 1 MB     \nDownloading: 1 MB     \nDownloading: 1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.1 MB     \nDownloading: 1.2 MB     \nDownloading: 1.2 MB     \nDownloading: 1.2 MB     \nDownloading: 1.2 MB     \nDownloading: 1.2 MB     \nDownloading: 1.2 MB     \nDownloading: 1.2 MB     \nDownloading: 1.2 MB     \nDownloading: 1.2 MB     \nDownloading: 1.2 MB     \nDownloading: 1.2 MB     \nDownloading: 1.2 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.3 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.4 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.5 MB     \nDownloading: 1.6 MB     \nDownloading: 1.6 MB     \nDownloading: 1.6 MB     \nDownloading: 1.6 MB     \nDownloading: 1.6 MB     \nDownloading: 1.6 MB     \nDownloading: 1.6 MB     \nDownloading: 1.6 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.7 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.8 MB     \nDownloading: 1.9 MB     \nDownloading: 1.9 MB     \nDownloading: 1.9 MB     \nDownloading: 1.9 MB     \nDownloading: 1.9 MB     \nDownloading: 1.9 MB     \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfor (neighborhood in nbhd$NAME) {\n  \ndf <- nbhd %>%\n  filter(NAME==neighborhood) %>%\n  st_transform(st_crs(income))\n\nmedian_income <- st_intersection(income, df) %>%\n  drop_na(median_incomeE, total_popE) %>%\n  mutate(prop = total_popE/sum(total_popE)) %>%\n  summarise(sum(median_incomeE*prop)) %>%\n  st_drop_geometry() %>%\n  pull()\n\nnbhd[nbhd$NAME == neighborhood, \"median_income\"] <- median_income\n}\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n```\n:::\n\n```{.r .cell-code}\nsaveRDS(nbhd, paste0(path, 'output/nbhd_data.rds'))  \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np1 <- nbhd %>% \n  ggplot(aes(fill=median_income)) +\n  geom_sf() +\n  scale_fill_viridis_c() +\n  geom_sf(data=camp, alpha=0.03) +\n  theme_void() +\n  theme(panel.background=element_rect(fill=\"white\")) +\n  labs(title=\"Reported Camp Sites\", fill=\"Median Income\")\n\np2 <- nbhd %>% \n  ggplot(aes(fill=median_income)) +\n  geom_sf() +\n  scale_fill_viridis_c() +\n  geom_sf(data=post, alpha=0.03) +\n  theme_void() +\n  theme(panel.background=element_rect(fill='white')) +\n  labs(title=\"Camp Sites Posted for Removal\", fill=\"Median Income\")\n\nggsave(p1, filename = paste0(path,'output/Map1.png'))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n\n```{.r .cell-code}\nggsave(p2, filename = paste0(path,'output/Map2.png'))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n\n```{.r .cell-code}\np3 <- ggplot() +\n  geom_sf(data=nbhd, aes(fill=median_income)) +\n  geom_sf(data=camp, color=alpha('pink', .05)) +\n  geom_sf(data=post, color=alpha('red', .05)) +\n  scale_fill_viridis_c() + \n  theme_void() +\n  theme(panel.background=element_rect(fill='white')) +\n  labs(title=\"Camp Sites and Posted Sites\", fill=\"Median Income\")\n\nggsave(p3, filename = paste0(path,'output/Map3.png'))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfor (neighborhood in nbhd$NAME) {\n  nbhd_filtered <- nbhd %>%\n    filter(NAME == neighborhood)\n  camp_filtered <- camp %>%\n    st_intersection(nbhd_filtered)\n  post_filtered <- post %>%\n    st_intersection(nbhd_filtered)\n  nbhd[nbhd$NAME == neighborhood, 'n_posted'] <- nrow(post_filtered)\n  nbhd[nbhd$NAME == neighborhood, 'n_camps'] <- nrow(camp_filtered)\n  nbhd[nbhd$NAME == neighborhood, 'removal_rate'] <- nrow(post_filtered) / nrow(camp_filtered)\n}\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n```\n:::\n\n```{.r .cell-code}\np5 <- ggplot() +\n  geom_sf(data=nbhd, aes(fill=median_income)) +\n  scale_fill_viridis_c() +\n  theme_void() +\n  theme(panel.background=element_rect()) +\n  labs(title=\"Median Income by Neighborhood\", fill=\"Median Income\")\n\np4 <- ggplot() +\n  geom_sf(data=nbhd, aes(fill=removal_rate)) +\n  scale_fill_viridis_c() +\n  theme_void() +\n  theme(panel.background=element_rect()) +\n  labs(title=\"Removal Rate by Neighborhood\", fill=\"Removal Rate\")\n  \nggsave(p4, filename = paste0(path,'output/Map4.png'))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n\n```{.r .cell-code}\nggsave(p5, filename = paste0(path,'output/Map5.png'))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(nbhd, aes(x=median_income, y=n_camps, color=log(removal_rate))) + \n  geom_point(size=3) +\n  scale_color_viridis_c()\n```\n\n::: {.cell-output-display}\n![](project_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\nExploring the way that we criminaliz homelessnesss by controlling the way that people occpy space. \n\n\nMaybe there's more police activity because they're less concerned with disrupting the people who live there.\n\nGiven our exploratory plots of where people are camping, its not necisarrily that higher income areas are more receptive, but rather that there just arent people camping in those areas. \n\nFor my final project, I plan to conduct a linear model exploring the relationship between removal rate and median income. Hopefully this will shed more light on the issue. \n\nFor future analysis, it would be helpful to incoperate data that represents camp size. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nzoningdis <- st_read(paste0(path,'data/zoning_with_distances/zoning_with_distances.shp'))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `zoning_with_distances' from data source \n  `/Users/zoe/Documents/project-02-zdraj/data/zoning_with_distances/zoning_with_distances.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 49547 features and 0 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -13671670 ymin: 5690756 xmax: -13633390 ymax: 5724518\nCRS:           NA\n```\n:::\n\n```{.r .cell-code}\nkeep <- c(\n  \"Commercial Employment\",\n  \"Commercial Mixed Use 1\",\n  \"Commercial Mixed Use 2\",\n  \"Commercial Mixed Use 3\",\n  \"Commercial Residential\",\n  \"Central Commercial\",\n  \"General Employment 1\",\n  \"General Employment 2\",\n  \"Central Employment\",\n  \"General Industrial 1\",\n  \"General Industrial 2\",\n  \"Heavy Industrial\"\n)\n\nzoning <- st_read(paste0(path,'data/Zoning/Zoning.shp')) %>%\n  filter(ZONE_DESC %in% keep)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `Zoning' from data source \n  `/Users/zoe/Documents/project-02-zdraj/data/Zoning/Zoning.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 15659 features and 22 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: -13674130 ymin: 5689506 xmax: -13633520 ymax: 5724897\nProjected CRS: WGS 84 / Pseudo-Mercator\n```\n:::\n\n```{.r .cell-code}\ncontained <- st_intersection(camp, zoning)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: attribute variables are assumed to be spatially constant throughout\nall geometries\n```\n:::\n\n```{.r .cell-code}\nnot_contained <- filter(camp, !(OBJECTID %in% contained$OBJECTID))\n\n# min_distances <- c()\n# for (i in 1:nrow(not_contained)) {\n# if (i %% 100 == 0) {\n#    print(i)\n# }\n#  j <- st_nearest_feature(camp[i,], zoning)\n#  min_distances <- c(min_distances, st_distance(camp[i,], zoning[j,]))\n# }\n\np6 <- ggplot() +\n  geom_sf(data=nbhd, aes(fill=median_income)) +\n  geom_sf(data=zoning, alpha=.6, fill='red') +\n  scale_fill_viridis_c() +\n  theme_void() +\n  theme(panel.background=element_rect(fill=\"white\")) +\n  labs(title=\"Median Income and Comercial Zones\", fill=\"Median Income\")\n\np7 <- ggplot(nbhd) +\n  geom_sf() +\n  geom_sf(data=zoning, alpha=.6, fill='blue') +\n  geom_sf(data=camp, alpha=.03, color='pink') +\n  theme_void() +\n  theme(panel.background=element_rect(fill=\"white\")) +\n  labs(title=\"Comercial Zones and Reported Campsites\")\n\np8 <- ggplot(nbhd) +\n  geom_sf() +\n  geom_sf(data=zoning, alpha=.6, fill='blue') +\n  geom_sf(data=post, alpha=.03, color='red') +\n  theme_void() +\n  theme(panel.background=element_rect(fill=\"white\")) +\n  labs(title=\"Comercial Zones and Posted Campsites\")\n\nggsave(p6, filename = paste0(path,'output/Map6.png'))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n\n```{.r .cell-code}\nggsave(p7, filename = paste0(path,'output/Map7.png'))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n\n```{.r .cell-code}\nggsave(p8, filename = paste0(path,'output/Map8.png'))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSaving 7 x 5 in image\n```\n:::\n:::\n",
    "supporting": [
      "project_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}